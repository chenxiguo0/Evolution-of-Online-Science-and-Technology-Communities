---
title: "Exploratory Data Analysis"
format:
  html:
    toc: true
    toc-title: "On this page"
    toc-location: left
    theme: cosmo
    css: styles.css
---

```{python}
# DEBUG: Print the Python executable path
import sys
import os
print(f"Python Executable: {sys.executable}")
print(f"Conda Env: {os.environ.get('CONDA_DEFAULT_ENV')}")
```

We analyze activity, engagement, concentration, and sentiment trends across large Reddit AI and technology subreddits (2023-06 to 2024-07). Our workflow leverages Spark and Python for data aggregation and analysis at scale.


## Data Overview

**Dataset Summary:**  
- **Time range**: 2023-06 â€“ 2024-07  
- **Total Comments**: See CSV  
- **Total Submissions**: See CSV  
- **Top Subreddits**: Shown below
```{python}
import pandas as pd
df_sum = pd.read_csv("../data/csv/dataset_summary_final.csv")
df_sum
```
```{python}
df_stat = pd.read_csv("../data/csv/subreddit_statistics_final.csv")
df_stat.sort_values(by="total_rows", ascending=False).head(10)
```


## Business Question 1: How has community activity evolved across science, technology, and AI subreddits over time?

**Analysis Approach:**  
- Aggregate posts/comments by community and month (Spark)  
- Visualize activity lines
```{python}
#| echo: true
#| output: false
import pandas as pd
import matplotlib.pyplot as plt
df = pd.read_csv("../data/csv/rq1_activity.csv")
plt.figure(figsize=(10, 5))
for sub in df['subreddit'].unique():
    subdf = df[df['subreddit']==sub]
    plt.plot(subdf['month'], subdf['total_activity'], marker='o', label=sub)
plt.title("Monthly Activity - AI/Tech Subreddits")
plt.xlabel("Month"), plt.ylabel("Posts + Comments"), plt.xticks(rotation=45)
plt.legend(bbox_to_anchor=(1.05, 1), loc='upper left')
plt.tight_layout()
```

![](../data/plots/rq1_activity_trends.png)

**Findings:**  

- Activity in subreddits like ChatGPT, technology, ArtificialInteligence, and Futurology exhibits clear temporal fluctuations.
- Notable spikes in early/mid-2024 appear correlated with major LLM launches and industry news, as captured by dramatic increases in both posts and comments.
- The technology subreddit maintains the highest and most stable activity levels (200k-300k range), while specialized AI communities show more variable engagement patterns.


## Business Question 2: Which technology-related subreddits demonstrate the strongest user engagement and retention over time?

**Analysis Approach:**  
- Compute and visualize monthly (returning/active user) ratio (Spark)  
- Show engagement as a heatmap
```{python}
#| echo: true
#| output: false
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
df = pd.read_csv("../data/csv/rq2_engagement.csv")
pivot = df.pivot(index="month", columns="subreddit", values="engagement_ratio")
plt.figure(figsize=(11,6))
sns.heatmap(pivot, cmap="YlGnBu", linewidths=0.3)
plt.title("User Retention: Returning/Active Ratio")
plt.tight_layout()
```

![](../data/plots/rq2_engagement_heatmap.png)

**Findings:**  

- Specialized communities like Alethics demonstrate occasional high-retention periods (reaching ~1.0 in specific months), indicating strong user return behavior during peak interest phases.
- Larger mainstream subreddits such as ChatGPT, MachineLearning, and OpenAI display moderate but consistent engagement ratios (0.2-0.4), suggesting steady community participation with a mix of new and returning contributors.
- The heatmap reveals that user retention varies considerably across time and community type, with niche subreddits showing more volatile patterns compared to established general AI forums.


## Business Question 3: How concentrated is attention within technology-related discussions (comments and scores)?

**Analysis Approach:**  
- Calculate the Gini coefficient for comment distribution per post (Spark)  
- Show per-subreddit violin/bar plots
```{python}
#| echo: true
#| output: false
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
df = pd.read_csv("../data/csv/rq3_gini.csv")
sns.violinplot(data=df, x="subreddit", y="gini_comments", palette="coolwarm", inner="box")
plt.title("Discussion Gini Index by Subreddit")
plt.xlabel("Subreddit"), plt.ylabel("Gini (Comments/Post)"), plt.xticks(rotation=30, ha="right")
plt.tight_layout()
```
![](../data/plots/rq3_gini_violin.png)
```{python}
#| echo: true
#| output: false
avg_gini = df.groupby("subreddit")[["gini_comments", "gini_scores"]].mean().reset_index()
sns.barplot(data=avg_gini, x="gini_comments", y="subreddit", palette="viridis")
plt.title("Average Gini Index - Attention Concentration")
plt.xlabel("Average Gini (Comments/Post)")
plt.tight_layout()
```
![](../data/plots/rq3_gini_bar_sorted.png)

**Findings:**  

- Subreddits such as technology and ChatGPT show the highest attention concentration (Gini~0.88-0.90), meaning most engagement is absorbed by a few highly popular threads.
- Communities like MachineLearning and datascience exhibit more egalitarian discussion patterns (Gini~0.70-0.78), with attention spread more broadly among posts.
- This suggests that general-interest tech communities tend toward "viral hit" dynamics, while technical/professional communities foster more distributed engagement across multiple conversations.


## Business Question 4: Do science, technology, and AI subreddits share overlapping user communities?

**Analysis Approach:**  
- Compute pairwise Jaccard similarity between subreddit user sets (Spark)
- Visualize the resulting matrix as a heatmap
```{python}
#| echo: true
#| output: false
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
df = pd.read_csv("../data/csv/rq4_user_overlap_matrix.csv", index_col=0)
plt.figure(figsize=(9,7))
sns.heatmap(df.astype(float), cmap="Blues", linewidths=0.5, square=True, cbar_kws={"label": "Jaccard Similarity"})
plt.title("Cross-Subreddit User Overlap")
plt.xticks(rotation=45, ha="right")
plt.tight_layout()
```
![](../data/plots/rq4_user_overlap_heatmap.png)

**Findings:**  

- Strong user overlap (Jaccard similarity > 0.15) exists between core AI subreddits like `ChatGPT`, `OpenAI`, and `ArtificialInteligence`, indicating a shared, highly engaged user base.
- General technology subreddits (`technology`, `Futurology`) share audiences with AI communities but also maintain distinct user groups, acting as bridges in the ecosystem.
- Specialized communities like `robotics` show lower overlap, suggesting more niche audiences.


## Key Takeaways

- Activity surges around key AI/tech milestones, with the technology subreddit maintaining the highest consistent engagement.
- User retention patterns vary significantly: specialized communities show volatile high-engagement periods, while mainstream AI forums maintain moderate but steady participation.
- Attention concentration follows community type: general tech forums exhibit "viral hit" dynamics (Gini~0.9), while technical communities distribute engagement more evenly (Gini~0.7).
- Sentiment remains predominantly neutral across all communities, with stability suggesting that emotional responses are localized to specific events rather than sustained trends.


