<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Exploratory Data Analysis – Project-04: Evolution of Online Sci-Tech Communities</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Project-04: Evolution of Online Sci-Tech Communities</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./eda.html" aria-current="page"> 
<span class="menu-text">Exploratory Data Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./nlp.html"> 
<span class="menu-text">Natural Language Processing</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./ml.html"> 
<span class="menu-text">Machine Learning</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./conclusion.html"> 
<span class="menu-text">Conclusion</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./report.html"> 
<span class="menu-text">Report</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://gcx1372.georgetown.domains/chenxiguo_website/"> 
<span class="menu-text">Back to Portfolio</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#dataset-summary" id="toc-dataset-summary" class="nav-link" data-scroll-target="#dataset-summary">Dataset Summary</a></li>
  <li><a href="#business-question-1" id="toc-business-question-1" class="nav-link" data-scroll-target="#business-question-1">Business Question 1</a>
  <ul class="collapse">
  <li><a href="#analysis-approach" id="toc-analysis-approach" class="nav-link" data-scroll-target="#analysis-approach">Analysis Approach</a></li>
  <li><a href="#findings" id="toc-findings" class="nav-link" data-scroll-target="#findings">Findings</a></li>
  </ul></li>
  <li><a href="#business-question-2" id="toc-business-question-2" class="nav-link" data-scroll-target="#business-question-2">Business Question 2</a>
  <ul class="collapse">
  <li><a href="#analysis-approach-1" id="toc-analysis-approach-1" class="nav-link" data-scroll-target="#analysis-approach-1">Analysis Approach</a></li>
  <li><a href="#findings-1" id="toc-findings-1" class="nav-link" data-scroll-target="#findings-1">Findings</a></li>
  </ul></li>
  <li><a href="#business-question-3" id="toc-business-question-3" class="nav-link" data-scroll-target="#business-question-3">Business Question 3</a>
  <ul class="collapse">
  <li><a href="#analysis-approach-2" id="toc-analysis-approach-2" class="nav-link" data-scroll-target="#analysis-approach-2">Analysis Approach</a></li>
  <li><a href="#findings-2" id="toc-findings-2" class="nav-link" data-scroll-target="#findings-2">Findings</a></li>
  </ul></li>
  <li><a href="#business-question-4" id="toc-business-question-4" class="nav-link" data-scroll-target="#business-question-4">Business Question 4</a>
  <ul class="collapse">
  <li><a href="#analysis-approach-3" id="toc-analysis-approach-3" class="nav-link" data-scroll-target="#analysis-approach-3">Analysis Approach</a></li>
  <li><a href="#findings-3" id="toc-findings-3" class="nav-link" data-scroll-target="#findings-3">Findings</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exploratory Data Analysis</h1>
<p class="subtitle lead">Community Dynamics and Engagement Patterns</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>This section presents a comprehensive exploratory data analysis (EDA) of user activity across 46 major AI and technology-focused subreddits from June 2023 to July 2024. By processing a large-scale dataset of over 12 million comments and 800,000 submissions with Spark and Python, we investigate four key business questions. Our analysis uncovers temporal activity patterns, quantifies user engagement and retention, measures attention inequality in discussions, and maps the landscape of cross-community user overlap. These findings provide a foundational understanding of the behavioral dynamics shaping the Reddit AI and technology ecosystem.</p>
</section>
<section id="dataset-summary" class="level2">
<h2 class="anchored" data-anchor-id="dataset-summary">Dataset Summary</h2>
<p>This project analyzes a large-scale Reddit dataset covering user activity from June 2023 to July 2024 across 46 unique subreddits, enabling a comprehensive examination of engagement patterns and community dynamics.</p>
<p>The dataset’s overall scope is detailed in Table 1. It comprises over 12.5 million comments and 831,000 submissions, providing a rich foundation for analyzing user-generated content and discussion patterns.</p>
<p><strong>Dataset Summary by Data Type</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 18%">
<col style="width: 19%">
<col style="width: 15%">
<col style="width: 25%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Data Type</th>
<th style="text-align: left;">Total Rows</th>
<th style="text-align: left;">Size (GB)</th>
<th style="text-align: left;">Date Range Start</th>
<th style="text-align: left;">Date Range End</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">comments</td>
<td style="text-align: left;">12,561,291</td>
<td style="text-align: left;">12.56</td>
<td style="text-align: left;">2023-06-01</td>
<td style="text-align: left;">2024-07-31</td>
</tr>
<tr class="even">
<td style="text-align: left;">submissions</td>
<td style="text-align: left;">831,021</td>
<td style="text-align: left;">0.83</td>
<td style="text-align: left;">2023-06-01</td>
<td style="text-align: left;">2024-07-31</td>
</tr>
</tbody>
</table>
<p>Among the 46 communities, activity is highly concentrated in a few key subreddits. The top five, measured by the total number of comments and submissions, are:</p>
<ol type="1">
<li><strong>technology</strong> — 3,265,248 total rows<br>
</li>
<li><strong>ChatGPT</strong> — 1,894,755 total rows<br>
</li>
<li><strong>science</strong> — 1,051,336 total rows<br>
</li>
<li><strong>cscareerquestions</strong> — 974,990 total rows<br>
</li>
<li><strong>Futurology</strong> — 914,347 total rows</li>
</ol>
<p>To facilitate temporal analysis, this raw data was aggregated into monthly activity counts. Table 2 provides a sample of this structured data, which is used to explore activity trends in Business Question 1.</p>
<p><strong>Sample of Monthly Activity Data</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 17%">
<col style="width: 10%">
<col style="width: 14%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">subreddit</th>
<th style="text-align: left;">month</th>
<th style="text-align: left;">posts</th>
<th style="text-align: left;">comments</th>
<th style="text-align: left;">total_activity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ArtificialInteligence</td>
<td style="text-align: left;">2023-06-01</td>
<td style="text-align: left;">1900</td>
<td style="text-align: left;">11962</td>
<td style="text-align: left;">13862</td>
</tr>
<tr class="even">
<td style="text-align: left;">ArtificialInteligence</td>
<td style="text-align: left;">2023-07-01</td>
<td style="text-align: left;">1829</td>
<td style="text-align: left;">12078</td>
<td style="text-align: left;">13907</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ArtificialInteligence</td>
<td style="text-align: left;">2023-08-01</td>
<td style="text-align: left;">1759</td>
<td style="text-align: left;">9922</td>
<td style="text-align: left;">11681</td>
</tr>
<tr class="even">
<td style="text-align: left;">ChatGPT</td>
<td style="text-align: left;">2023-06-01</td>
<td style="text-align: left;">11357</td>
<td style="text-align: left;">139633</td>
<td style="text-align: left;">150990</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ChatGPT</td>
<td style="text-align: left;">2023-07-01</td>
<td style="text-align: left;">10597</td>
<td style="text-align: left;">142224</td>
<td style="text-align: left;">152821</td>
</tr>
<tr class="even">
<td style="text-align: left;">ChatGPT</td>
<td style="text-align: left;">2023-08-01</td>
<td style="text-align: left;">10431</td>
<td style="text-align: left;">131996</td>
<td style="text-align: left;">142427</td>
</tr>
</tbody>
</table>
</section>
<section id="business-question-1" class="level2">
<h2 class="anchored" data-anchor-id="business-question-1">Business Question 1</h2>
<blockquote class="blockquote">
<p><strong><em>How has community activity evolved across AI and technology subreddits over time?</em></strong></p>
</blockquote>
<section id="analysis-approach" class="level3">
<h3 class="anchored" data-anchor-id="analysis-approach">Analysis Approach</h3>
<p>To answer this, we aggregated the total number of posts and comments by subreddit for each month. This allowed us to create a time-series visualization that highlights activity trends, identifies periods of significant growth or decline, and compares the engagement trajectories of different communities. Surges in activity were then contextualized with major AI or technology events.</p>
</section>
<section id="findings" class="level3">
<h3 class="anchored" data-anchor-id="findings">Findings</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="data/plots/rq1_activity_trends.png" class="img-fluid figure-img"></p>
<figcaption>Monthly Activity Trends</figcaption>
</figure>
</div>
<ul>
<li><strong><code>technology</code> consistently dominates</strong> in overall activity, peaking above 300,000 monthly interactions and reflecting broad, sustained user interest.</li>
<li><strong><code>ChatGPT</code> shows pronounced surges</strong>, especially around late 2023 and early 2024, which likely correspond to major product updates and public announcements (e.g., OpenAI DevDay).</li>
<li><strong><code>Futurology</code> exhibits a steady upward trend</strong>, suggesting growing mainstream interest in future-oriented and AI-related discussions.</li>
<li><strong><code>OpenAI</code> experiences sharp but short-lived spikes</strong>, consistent with event-driven engagement tied to specific releases or corporate news.</li>
<li>Smaller communities like <code>MachineLearning</code> and <code>ArtificialInteligence</code> remain relatively stable, indicating a more niche and consistent user base.</li>
</ul>
<p>Overall, activity patterns reveal that while major AI/tech events drive short-term spikes in specialized communities, broader technology interest maintains a high baseline of engagement throughout the year.</p>
</section>
</section>
<section id="business-question-2" class="level2">
<h2 class="anchored" data-anchor-id="business-question-2">Business Question 2</h2>
<blockquote class="blockquote">
<p><strong><em>Which AI-related subreddits demonstrate the strongest user engagement and retention over time?</em></strong></p>
</blockquote>
<section id="analysis-approach-1" class="level3">
<h3 class="anchored" data-anchor-id="analysis-approach-1">Analysis Approach</h3>
<p>We used Spark to compute a monthly <em>returning-to-active user ratio</em> for each subreddit. This metric serves as a proxy for user retention, measuring the proportion of a month’s active users who also participated in the previous month. A heatmap was then used to visualize these retention ratios, allowing for easy comparison of which communities maintain consistent user engagement over time.</p>
</section>
<section id="findings-1" class="level3">
<h3 class="anchored" data-anchor-id="findings-1">Findings</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="data/plots/rq2_engagement_heatmap.png" class="img-fluid figure-img"></p>
<figcaption>User Retention Heatmap</figcaption>
</figure>
</div>
<ul>
<li><strong>Niche communities show sharp fluctuations.</strong> Subreddits like <code>Alethics</code> exhibit periods of extremely high retention (ratios near 1.0), suggesting that when relevant topics emerge, nearly all active users are returning participants. However, this engagement is event-driven and not sustained.</li>
<li><strong>Mainstream AI subreddits maintain stable retention.</strong> Larger communities like <code>ChatGPT</code>, <code>MachineLearning</code> and <code>OpenAI</code> consistently show retention ratios in the 0.2–0.4 range. This stability reflects a healthier, more durable engagement structure with a continuous flow of content and a steady user base.</li>
<li><strong>General AI forums demonstrate stronger cohesion.</strong> Communities like <code>MachineLearning</code> and <code>OpenAI</code> do not show extreme highs but maintain a persistent core of recurring users, indicating a well-established community identity that encourages return visits even without major events.</li>
</ul>
<p>In summary, the heatmap highlights a clear distinction: niche subreddits achieve high short-term engagement but lack consistency, whereas mainstream subreddits sustain steady returning-user activity, suggesting stronger community health and long-term value.</p>
</section>
</section>
<section id="business-question-3" class="level2">
<h2 class="anchored" data-anchor-id="business-question-3">Business Question 3</h2>
<blockquote class="blockquote">
<p><strong><em>How concentrated is attention within AI and tech discussions?</em></strong></p>
</blockquote>
<section id="analysis-approach-2" class="level3">
<h3 class="anchored" data-anchor-id="analysis-approach-2">Analysis Approach</h3>
<p>To measure attention inequality, we calculated the <strong>Gini coefficient</strong> of comments per post for each subreddit. A Gini coefficient near 1 indicates that a very small number of “viral” posts attract most of the comments, while a value closer to 0 suggests that attention is distributed more evenly across many posts. We visualized these distributions using violin plots and bar charts to compare concentration levels.</p>
</section>
<section id="findings-2" class="level3">
<h3 class="anchored" data-anchor-id="findings-2">Findings</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="data/plots/rq3_gini_violin.png" class="img-fluid figure-img"></p>
<figcaption>Discussion Gini Index Violin Plot</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="data/plots/rq3_gini_bar_sorted.png" class="img-fluid figure-img"></p>
<figcaption>Average Gini Index Bar Chart</figcaption>
</figure>
</div>
<ul>
<li><strong><code>technology</code> and <code>ChatGPT</code> exhibit the highest attention concentration</strong>, with average Gini coefficients approaching 0.90. This “winner-take-most” dynamic is typical of large, news-driven communities where engagement is dominated by a few highly viral posts.</li>
<li><strong>Technical communities show lower inequality.</strong> Subreddits like <code>MachineLearning</code> and <code>datascience</code> have more moderate Gini values (≈0.70–0.78). This indicates a healthier, more evenly distributed engagement pattern where discussions are spread across a wider range of specialized, topic-focused posts rather than a few viral threads.</li>
<li><strong><code>OpenAI</code> occupies a middle ground</strong>, with moderate concentration levels but higher month-to-month variability, reflecting its sensitivity to event-driven news cycles.</li>
</ul>
<p>These findings reveal a structural divide: general-interest subreddits are prone to viral, top-heavy discussions, while expert-focused communities foster a more equitable distribution of attention across multiple parallel conversations.</p>
</section>
</section>
<section id="business-question-4" class="level2">
<h2 class="anchored" data-anchor-id="business-question-4">Business Question 4</h2>
<blockquote class="blockquote">
<p><strong><em>Do AI and technology subreddits share overlapping user communities?</em></strong></p>
</blockquote>
<section id="analysis-approach-3" class="level3">
<h3 class="anchored" data-anchor-id="analysis-approach-3">Analysis Approach</h3>
<p>We identified the unique user bases for each subreddit and then computed the pairwise <strong>Jaccard similarity</strong> to quantify the degree of user overlap between every pair of communities. The resulting similarity matrix was visualized as a heatmap, where warmer colors would indicate a higher percentage of shared users.</p>
</section>
<section id="findings-3" class="level3">
<h3 class="anchored" data-anchor-id="findings-3">Findings</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="data/plots/rq4_user_overlap_heatmap.png" class="img-fluid figure-img"></p>
<figcaption>Cross-Subreddit User Overlap Heatmap</figcaption>
</figure>
</div>
<ul>
<li><strong>Overall user overlap is extremely low.</strong> The vast majority of Jaccard similarity scores are close to zero, indicating that the selected AI and technology subreddits attract largely distinct and separate audiences.</li>
<li><strong>Even closely related communities are siloed.</strong> For instance, AI-centric subreddits like <code>ChatGPT</code>, <code>OpenAI</code>, and <code>ArtificialInteligence</code> do not share a significant user base. This suggests that users tend to engage with platform- or topic-specific communities rather than participating broadly across the AI ecosystem.</li>
<li><strong>The strong diagonal pattern</strong> in the heatmap visually confirms that each subreddit functions as a relatively independent community with minimal cross-pollination of users during the observed period.</li>
</ul>
</section>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>This exploratory analysis reveals several key dynamics of Reddit’s AI and technology ecosystem:</p>
<ol type="1">
<li><strong>Community Activity is Event-Driven:</strong> Monthly activity in specialized subreddits like <code>ChatGPT</code> spikes in response to major industry events, while broader forums like <code>technology</code> maintain high, consistent engagement.</li>
<li><strong>Retention Varies by Community Type:</strong> Niche communities experience volatile but intense user retention, whereas larger, mainstream subreddits demonstrate more stable and durable long-term engagement.</li>
<li><strong>Attention is Highly Concentrated in Large Forums:</strong> General-interest tech subreddits exhibit a “winner-take-most” pattern where a few viral posts dominate discussion. In contrast, technical communities foster a more equitable distribution of attention.</li>
<li><strong>User Communities are Highly Siloed:</strong> There is minimal user overlap between different AI and tech subreddits, indicating that these online spaces operate as distinct communities with specialized audiences rather than an interconnected network.</li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>DSAN 6000 Big Data Analytics Project</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Made with <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>